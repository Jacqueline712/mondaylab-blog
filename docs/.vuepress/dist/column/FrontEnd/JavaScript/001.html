<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>了解js基础知识中的作用域和闭包以及闭包的一些应用场景，浅析函数柯里化 | 星期一研究室mondaylab</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="分享前沿学习干货，不止前端">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css" as="style"><link rel="preload" href="/mondaylab-blog/assets/js/app.14c1c540.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/3.88ba4622.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/1.4561d677.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/33.e98d205f.js" as="script"><link rel="prefetch" href="/mondaylab-blog/assets/js/10.f2f3162c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/100.5c2cd8e7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/101.05a3c5c0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/102.05ddd051.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/103.b752b0d0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/104.12d3d979.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/105.47488fb7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/106.6f3bf22b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/107.e5e293b0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/108.5ae93e12.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/109.a7ed1971.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/11.d9e91fbd.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/110.5f6dd039.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/111.d67bdd3f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/112.f03f426e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/113.a9dbae40.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/114.873384e8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/115.b9a012d8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/116.9a2a8385.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/117.0c22fc70.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/118.f2a72306.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/119.83e238f6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/12.4e6f1140.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/120.8e4a8814.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/121.0160af67.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/122.3f96251f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/123.587aec59.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/124.dc452810.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/125.ac550fd7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/126.67ed2b14.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/127.aa7edee4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/128.4fbeaf14.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/129.be7160fa.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/13.a272b995.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/130.bcee290d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/131.35862de2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/132.bb4c461b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/133.e1c478c7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/134.8de27963.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/135.f079f9b7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/136.0b7a9b37.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/137.a1c2ddf1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/138.8f89eb15.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/139.7541018f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/14.31ea28b7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/15.b4a94a05.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/16.9ad910ae.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/17.e76fba5e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/18.c4f15306.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/19.2ab933ac.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/20.06b6e455.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/21.722e1a18.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/22.8b4c7a06.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/23.a7b4fce5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/24.a1144f5d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/25.9cc0424c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/26.ea9b4ec2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/27.e95d6d00.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/28.62c5ff4b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/29.336d7380.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/30.e1a43b09.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/31.bc58d6b5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/32.ff171a84.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/34.71934082.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/35.d898aa4b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/36.e82984de.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/37.0149c2d9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/38.d3060079.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/39.72de5e56.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/4.5fce2cb1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/40.a8a88bb4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/41.87897425.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/42.b349f36e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/43.f5bf7a01.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/44.41a9df24.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/45.bcdbba0d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/46.fd15b189.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/47.ded2c0d8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/48.d0dea824.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/49.7e5c8d3e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/5.41f6904b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/50.123c3dc4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/51.7f4bce3c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/52.e0ac9d17.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/53.6150f1a8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/54.143dee49.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/55.7379e12b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/56.fb541ce6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/57.574effd1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/58.e2d25ebd.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/59.70a0f6c5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/6.3b3e9e8b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/60.66efed65.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/61.a08879bc.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/62.114d64ef.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/63.3f77ed8e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/64.2ff4cb39.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/65.e43e370f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/66.3672b66f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/67.7873099c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/68.d840221c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/69.ed4dffcb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/7.01286607.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/70.74801d94.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/71.eba4546e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/72.88dc8304.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/73.2a622edc.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/74.76994fcb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/75.137d7717.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/76.b09b91c4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/77.4cc46d43.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/78.f7f9fb5b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/79.36733ea9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/8.b3bf0af5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/80.7a43211b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/81.71120304.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/82.639f79c6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/83.7a9cc1d0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/84.34a9e70b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/85.89691d1e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/86.10a342ef.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/87.90f568d6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/88.3f48c920.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/89.8ae0cf13.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/9.27bc3278.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/90.0895b0d8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/91.e880c439.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/92.de2e3d5a.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/93.4da52e01.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/94.9b83657c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/95.ddbd7114.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/96.6246550c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/97.575ed5fe.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/98.4e2f1dde.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/99.03f00d96.js">
    <link rel="stylesheet" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>星期一研究室mondaylab</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>分享前沿学习干货，不止前端</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mondaylab-blog/" class="home-link router-link-active"><img src="/mondaylab-blog/avatar.png" alt="星期一研究室mondaylab" class="logo"> <span class="site-name">星期一研究室mondaylab</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      精选专栏
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  数构与前端
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offer来了
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      干货社区
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  快捷键
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notion模板
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  产品汪
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  前端开发
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  其他语言
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  服务端开发
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  计算机基础知识
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  碎碎念个人成长
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  知乎
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/mondaylab-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    SyllableCheng
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>128</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>25</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      精选专栏
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  数构与前端
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offer来了
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      干货社区
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  快捷键
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notion模板
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  产品汪
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  前端开发
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  其他语言
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  服务端开发
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  计算机基础知识
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  碎碎念个人成长
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  知乎
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html" aria-current="page" class="active sidebar-link">001-作用域和闭包</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/002.html" class="sidebar-link">002-this的应用场景</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/003.html" class="sidebar-link">003-promise和async/await</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/004.html" class="sidebar-link">004-Web API种的DOM和BOM</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/005.html" class="sidebar-link">005-事件绑定、事件冒泡和事件委托</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/006.html" class="sidebar-link">006-跨域大山AJAX</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/007.html" class="sidebar-link">007-HTMLCollection和NodeList</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/008.html" class="sidebar-link">008-JS中的七大继承方案</a></li><li><a href="/mondaylab-blog/column/FrontEnd/JavaScript/009.html" class="sidebar-link">009-手写Promise的核心功能</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.js原理解析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3+ts组件库开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实战类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>青训营YouthCamp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>掘金翻译计划</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>了解js基础知识中的作用域和闭包以及闭包的一些应用场景，浅析函数柯里化</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">了解js基础知识中的作用域和闭包以及闭包的一些应用场景，浅析函数柯里化</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>周一</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>6/6/2021</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>JavaScript</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h1> <p>作用域和闭包是前端再基础不过的知识了！我们平常所写程序中很多都不一定是平铺的，有很多复杂的逻辑和函数以及模块之间的联系都会涉及到作用域和闭包。因此，对于前端来说，如果连作用域和闭包的关系都捋不清，那无形中总会写出各式各样的 <code>bug</code> ，这对于程序来说简直是一个巨大的灾难。</p> <p>同时，在面试当中，也很容易被问到这一块的知识，比如：</p> <ul><li><code>this</code> 的不同应用场景，如何取值？</li> <li>手写 <code>apply</code> 、 <code>call</code> 、 <code>bind</code> 函数。</li> <li>实际开发中闭包的应用场景，举例说明。</li> <li>……</li></ul> <p>所以，了解作用域和闭包，对于前端来说是一项必备的技能。接下来开始讲解作用域和闭包。</p> <h1 id="一、作用域"><a href="#一、作用域" class="header-anchor">#</a> 一、作用域</h1> <h2 id="_1、作用域、自由变量简介"><a href="#_1、作用域、自由变量简介" class="header-anchor">#</a> 1、作用域、自由变量简介</h2> <h3 id="_1-作用域定义"><a href="#_1-作用域定义" class="header-anchor">#</a> （1）作用域定义</h3> <p>先抛出定义：</p> <ul><li><strong>作用域</strong>，就是当访问一个变量时，即编译器在执行这段代码时，会首先从当前的作用域中查找是否有这个标识符，如果没有找到，就会去父作用域查找，如果父作用域还没有找到则继续<strong>向上查找</strong>，直到全局作用域为止。可理解为该上下文中声明的<strong>变量</strong>和声明的<strong>作用范围</strong>，可分为<strong>全局作用域</strong>、<strong>函数作用域</strong>和<strong>块级作用域</strong>。</li> <li><strong>注</strong>： <code>ES5</code> 中只存在两种作用域：全局作用域和函数作用域； <code>ES6</code> 新增了块级作用域。</li> <li>在 <code>Javascript</code> 中，我们将作用域定义为<strong>一套规则</strong>，这套规则用来管理引擎如何在<u>当前作用域</u>以及<u>嵌套子作用域</u>中根据标识符名称进行变量（变量名和函数名）查找。</li></ul> <p>接下来我们用实例来了解作用域是什么？以及跟作用域相关的自由变量又是什么？</p> <h3 id="_2-作用域实例演示"><a href="#_2-作用域实例演示" class="header-anchor">#</a> （2）作用域实例演示</h3> <p>先来看一段代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> a <span class="token operator">+</span> a1 <span class="token operator">+</span> a2 <span class="token operator">+</span> a3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这段代码中的作用域分为以下四个层级。</p> <p><img src="https://img-blog.csdnimg.cn/20210517181412307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center" alt="作用域"></p> <p>那所谓作用域是什么呢？作用域代表的是一个变量，或者某个变量的合法使用范围。比如，上图中的 <strong>(1)</strong> 区域，其中 <code>a</code> 在全局被定义了，所以它可以被 <strong>(1)</strong> 的整个区域所使用。再来看下 <strong>(2)</strong> 区域， <strong>(2)</strong> 区域在函数 <code>fn1</code> 里面定义，所以 <code>a1</code> 只能被 <strong>(2)</strong> 下的整个区域所使用，以此类推 <strong>(3)</strong> 和 <strong>(4)</strong> 也是如此， <code>a2</code> 只能被区域 <strong>(3)</strong> 所使用， <code>a4</code> 只能被区域 <strong>(4)</strong> 所使用。</p> <p>所以，作用域就类似于 1234 区域的这几个红框，即变量的一个合法使用范围，一旦这个变量跳出这个范围去使用，就会报错。</p> <p>说完作用域，我们再来了解下自由变量。先来了解下自由变量的定义。</p> <h3 id="_3-自由变量定义"><a href="#_3-自由变量定义" class="header-anchor">#</a> （3）自由变量定义</h3> <ul><li>一个变量在当前作用域中没有定义。</li> <li>向上级作用域，<strong>一层一层依次查找</strong>，直到找到为止。</li> <li>如果到全局作用域都没找到，则报错 <code>xxx is not undefined</code> 。</li></ul> <h3 id="_4-自由变量实例演示"><a href="#_4-自由变量实例演示" class="header-anchor">#</a> （4）自由变量实例演示</h3> <p>先来看一段代码（区域 4 有改变）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> x <span class="token operator">+</span> a <span class="token operator">+</span> a1 <span class="token operator">+</span> a2 <span class="token operator">+</span> a3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20210517181439151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center" alt="作用域"></p> <p>我们定位到上图的<strong>区域(4)</strong>，<strong>区域(4)</strong> 想要返回 <code>x + a + a1 + a2 + a3</code> ， 但是它当前区域只有 <code>a3</code> 被定义了，其余四个变量都没有被定义。所以除了 <code>a3</code> 之外， <code>x、a、a1和a2</code> 变量符合自由变量定义中的第一条规则，所以 <code>x、a、a1 和 a2</code> 这四个变量均为自由变量。</p> <p>再继续看， <code>x、a、a1和a2</code> 向上级作用域一层一层的寻找，最终 <code>a</code> 在 <strong>区域(1)</strong> 找到， <code>a1</code> 在 <strong>区域(2)</strong> 找到， <code>a3</code> 在 <strong>区域(3)</strong> 找到，所以， <code>a、a1 和 a2</code> 也满足自由变量定义的第二条规则。</p> <p>继续看，其它变量都找到了，只有 <code>x</code> 搜索到全局变量都没有找到对应的值，所以 <code>x</code> 满足自由变量的第三条规则。</p> <p>综上所述，对于自由变量定义的三条规则中，只要变量满足其中一个条件都可算是自由变量。</p> <p>了解完作用域和自由变量，我们再来了解作用域链。</p> <h2 id="_2、作用域链简介"><a href="#_2、作用域链简介" class="header-anchor">#</a> 2、作用域链简介</h2> <h3 id="_1-作用域链定义"><a href="#_1-作用域链定义" class="header-anchor">#</a> （1）作用域链定义</h3> <ul><li><p>作用域链可以看成是将变量对象按顺序连接起来的一条链子。</p></li> <li><p>每个执行环境中的作用域都是不同的。</p></li> <li><p>当我们引用变量时，会顺着当前执行环境的作用域链，从作用域链的开头开始，依次往上寻找对应的变量，直到找到作用域链的尾部，报错 <code>undefined</code> 。</p></li> <li><p>作用域链保证了<strong>变量的有序访问</strong>。</p></li></ul> <p><strong>注意</strong>：作用域链只能向上访问，到 <code>window</code> 对象即被终止。</p> <h3 id="_2-作用域链实例演示"><a href="#_2-作用域链实例演示" class="header-anchor">#</a> （2）作用域链实例演示</h3> <p>依然是上面那个例子，我们用一张图来表示作用域链的访问过程。</p> <p><img src="https://img-blog.csdnimg.cn/20210517181513101.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center" alt="作用域链"></p> <p>像上图这样，从第一步访问到第二、三、四步，最终访问不到则报错 <code>undefined</code> 。这样按顺序一步一步的访问，就像是一条链子，把变量对象按顺序连接起来，这就是作用域链。</p> <h2 id="_3、全局作用域、函数作用域和块级作用域"><a href="#_3、全局作用域、函数作用域和块级作用域" class="header-anchor">#</a> 3、全局作用域、函数作用域和块级作用域</h2> <h3 id="_1-全局作用域"><a href="#_1-全局作用域" class="header-anchor">#</a> （1）全局作用域</h3> <p>在程序中，定义一个变量，这个变量没有受到任何约束，在任何区域都可以使用，比如 window 对象，document 对象……</p> <h3 id="_2-函数作用域"><a href="#_2-函数作用域" class="header-anchor">#</a> （2）函数作用域</h3> <p>在函数中，定义一个变量，这个变量只能在函数内使用，超过函数的范围就会报错。</p> <h3 id="_3-块级作用域-es6-新增"><a href="#_3-块级作用域-es6-新增" class="header-anchor">#</a> （3）块级作用域（ES6 新增）</h3> <p><code>ES6</code> 新增了块级作用域。那什么叫做块呢？可以理解为在任何有加大括号{}的区域都可以算是一个块。比如：</p> <p><strong>举例 1：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//会报错</span>
</code></pre></div><p>在上面这段代码中， <code>if</code> 语句后面花括号{}部分就算是一个块，块级作用域只能在当前的模块当中生效，所以，当 if 语句里面定义了 <code>x</code> 之后， <code>x</code> 只能在当前块内访问，不能跑出这个块，一旦跑出这个块以后，就不再生效。所以当打印 <code>console.log(x)</code> 的时候， <code>x</code> 并不在 <code>if</code> 语句的块内，所以会报错。</p> <p><strong>举例 2：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上面这段代码中， <code>console.log(n)</code> 中的 <code>n</code> 作用于 <code>f1</code> 函数当中，所以它会往 <code>f1</code> 函数这个块找，而此时有小伙伴可能会疑惑说， <code>if</code> 语句的块也有 <code>n</code> ，也属于 <code>f1</code> 函数里面。事实上，对于<strong>块级作用域</strong>来说，外层代码块不受内层代码块的影响，即外层干外层的事情，内层干内层的事情，所以 <code>n</code> 在外层，它会往外层找，与内层相互独立，互不干扰。</p> <h3 id="_4-var-和-let、const-的区别"><a href="#_4-var-和-let、const-的区别" class="header-anchor">#</a> （4）var 和 let、const 的区别</h3> <p>了解完全局、函数和块级作用域。我们来梳理下 var 和 let、const 的区别：</p> <ul><li><code>var</code> 是 <code>ES5</code> 语法， <code>let</code> 、 <code>const</code> 是 <code>ES6</code> 语法， <code>var</code> 有变量提升。</li> <li><code>var</code> 和 <code>let</code> 是变量，可以修改；<code>const</code> 是常量，不可修改。</li> <li><code>let</code> 和 <code>const</code> 有块级作用域，而 var 没有。</li></ul> <h1 id=""><a href="#" class="header-anchor">#</a></h1> <h1 id="二、闭包"><a href="#二、闭包" class="header-anchor">#</a> 二、闭包</h1> <h2 id="_1、闭包是什么"><a href="#_1、闭包是什么" class="header-anchor">#</a> 1、闭包是什么？</h2> <h3 id="_1-定义"><a href="#_1-定义" class="header-anchor">#</a> （1）定义</h3> <p>闭包，是指函数内部再嵌套函数，且在嵌套的函数内有权访问另外一个函数作用域中的变量。</p> <p><code>JavaScript</code> 代码的整个执行过程，分为两个阶段，<strong>代码编译阶段</strong>与<strong>代码执行阶段</strong>。编译阶段由<strong>编译器</strong>完成，将代码翻译成可执行代码，这个阶段<strong>作用域规则</strong>会确定。执行阶段由<strong>JS 引擎</strong>完成，主要任务是执行可执行的代码，执行上下文在这个阶段创建。</p> <p><img src="https://img-blog.csdnimg.cn/20210502145239801.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center" alt="闭包是什么"></p> <h3 id="_2-本质"><a href="#_2-本质" class="header-anchor">#</a> （2）本质</h3> <ul><li>当前环境中存在指向<strong>父级作用域</strong>的引用</li></ul> <h3 id="_3-特性"><a href="#_3-特性" class="header-anchor">#</a> （3）特性</h3> <ul><li>函数内再嵌套函数</li> <li>内部函数可以引用外层的参数和变量</li> <li>参数和变量不会被垃圾回收机制回收</li></ul> <h3 id="_4-优缺点"><a href="#_4-优缺点" class="header-anchor">#</a> （4）优缺点</h3> <ul><li><strong>优点</strong>：能够实现封装和缓存等。</li> <li><strong>缺点</strong>：<strong>①</strong>消耗内存；<strong>②</strong>使用不当会造成内存溢出。</li></ul> <h3 id="_5-闭包的解决方法"><a href="#_5-闭包的解决方法" class="header-anchor">#</a> （5）闭包的解决方法</h3> <ul><li>在退出函数之前，将<strong>不使用的局部变量</strong>全部删除。</li></ul> <h2 id="_2、一般如何产生闭包"><a href="#_2、一般如何产生闭包" class="header-anchor">#</a> 2、一般如何产生闭包？</h2> <p>闭包是作用域应用的特殊情况，有两种表现：</p> <ul><li>函数作为<strong>返回值</strong>被传递</li> <li>函数作为<strong>参数</strong>被返回</li></ul> <h3 id="_1-函数作为返回值被传递"><a href="#_1-函数作为返回值被传递" class="header-anchor">#</a> （1）函数作为返回值被传递</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> fn1 <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//100</span>
</code></pre></div><p>从以上代码中可以看到，当执行 <code>fn1</code> 时，即执行 <code>create()</code> 函数，之后程序会执行 <code>create()</code> 函数，在 <code>create()</code> 函数当中， <code>a</code> 的值为 <code>100</code> ，且结果是要返回一个函数的值。此时 <code>console.log(a)</code> 中的 <code>a</code> 为自由变量，在当前函数中找不到 <code>a</code> 的值，则会继续往上寻找，最终找到 <code>a</code> 的值为 <code>100</code> ，返回结果 <code>100</code> 。</p> <h3 id="_2-函数作为参数被返回"><a href="#_2-函数作为参数被返回" class="header-anchor">#</a> （2）函数作为参数被返回</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">fn2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//100</span>
</code></pre></div><p>从以上代码中可以看到，当执行 <code>print(fn2)</code> 函数时， <code>fn2</code> 是作为函数传递，此时执行 <code>print(fn2)</code> 函数，先找到 <code>a</code> 变量的值为 <code>200</code> ，之后执行 <code>fn2</code> 函数，</p> <p>而 <code>fn2</code> 函数在 <code>print</code> 函数外部，所以此时 <code>fn2</code> 函数中得到 a 变量应该往<strong>当前定义的地方</strong>向上级作用域查找，而不是在执行的地方查找。所以 <code>a</code> 变量向上级查找找到了 <code>a</code> 的值为 <code>100</code> ，最终输出为 <code>100</code> 。</p> <p><strong>综上，得出以下结论：</strong></p> <p>在闭包中，所有自由变量的查找，是在<strong>函数定义的地方</strong>向上级作用域查找，而不是在执行的地方进行查找！！</p> <h2 id="_3、闭包的应用场景"><a href="#_3、闭包的应用场景" class="header-anchor">#</a> 3、闭包的应用场景</h2> <p>在日常的使用中，闭包通常有以下几种场景：</p> <ul><li>通过循环给页面上多个 <code>dom</code> 节点绑定事件</li> <li>做一个简单的 cache 工具，实现闭包隐藏数据，只提供 <code>API</code></li> <li>函数柯里化</li></ul> <h3 id="_1-通过循环给页面上多个-dom-节点绑定事件"><a href="#_1-通过循环给页面上多个-dom-节点绑定事件" class="header-anchor">#</a> （1）通过循环给页面上多个 dom 节点绑定事件</h3> <p>我们先来看一段代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> i<span class="token punctuation">,</span> a<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  a<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token string">'&lt;br&gt;'</span><span class="token punctuation">;</span>
  a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>看完这段代码不妨先思考一下，在网页上呈现的形式是什么样的？当点击 0~9 的数字时，弹出来的数字是多少呢？我们来展示下结果。</p> <p><img src="https://img-blog.csdnimg.cn/20210517181532215.gif#pic_center" alt="闭包应用场景"></p> <p>我们可以发现，我们想要的结果其实是点击 0 的时候弹出 0，点击 1 的时候弹出 1，但是好像跟我们想象的似乎还有点落差。那问题出在哪里呢？</p> <p>其实，当把这段代码放在程序中时，很快就会被执行完，所以在 for 循环结束后，可能 <code>a.addEventListener</code> 还没有被执行（即下面这段代码），那 <code>a.addEventListener</code> 什么时候执行呢？那就是什么时候 <code>click</code> 什么时候执行。在我们还没有 <code>click</code> 之前，整个 <code>for</code> 循环可能已经循环结束，所以等到我们点击的时候，最终会打印出最后一个 <code>for</code> 执行时的结果：<code>10</code> 。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//不会立马执行的函数</span>
a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>所以，问题出现了，我们应该怎样修改才能把它按照我们所想的进行显示呢。具体代码改动如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  a<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token string">'&lt;br&gt;'</span><span class="token punctuation">;</span>
  a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>改动后的效果展示如下图。</p> <p><img src="https://img-blog.csdnimg.cn/20210517181554994.gif#pic_center" alt="闭包应用场景"></p> <p>通过修改，可以看到，最终成功输出我们想要的结果。为什么呢？</p> <p>因为把 <code>i</code> 放到 <code>for</code> 循环里面，并且用 <code>let</code> 定义，相当于把 <code>let i = 0</code> 放在 <code>for</code> 里面，定义了一个块级作用域。每次 <code>for</code> 循环执行的时候，都会形成一个新的块，每一个块都相互独立，执行到哪就显示到哪。一旦执行到 <code>alert(i)</code> 时，它就会往它的块级作用域里面寻找。</p> <p>而如果把 <code>i</code> 放在全局作用域中， 全局作用域是针对所有的块，不会去考虑到每一个块的呈现形式是怎么样的。所以，把 <code>i</code> 放在块级作用域当中，读取块级作用域的内容，最终达到我们想要的效果。</p> <h3 id="_2-做一个简单的-cache-工具-实现闭包隐藏数据-只提供-api"><a href="#_2-做一个简单的-cache-工具-实现闭包隐藏数据-只提供-api" class="header-anchor">#</a> （2）做一个简单的 cache 工具，实现闭包隐藏数据，只提供 API</h3> <p>我们先来写一段代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//闭包隐藏数据，只提供 API</span>
<span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//闭包中的数据，被隐藏，不被外界访问</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//会报错</span>
</code></pre></div><p>在这段代码中，我们在函数 <code>createCache()</code> 中定义了 <code>get</code> 和 <code>set</code> 方法，也就是说，在 <code>createCache()</code> 这个函数里，只提供了 <code>set</code> 和 <code>get</code> 方法，不再提供其他方法。所以在下面的 <code>c</code> 调用中，它只能调用 <code>set</code> 和 <code>get</code> ，而调用不了 <code>delete</code> ，因为 <code>delete</code> 在函数 <code>createCache()</code> 里面并没有提供出来，所以当 <code>c</code> 想要尝试去调用的时候，会报错。这样达到了闭包的目的，只提供想要提供的 <code>API</code> ，不提供的一律获取不了。</p> <h3 id="_3-函数柯里化"><a href="#_3-函数柯里化" class="header-anchor">#</a> （3）函数柯里化</h3> <p><strong>1）函数柯里化是什么？</strong></p> <p>函数柯里化是将一个<strong>接收多个参数的函数</strong>变为<strong>接收任意参数</strong>且最终返回一个函数的一种技术方式，其最终支持的是方法的连续调用，每次返回新的函数，在最终符合条件或者使用完所有的传参时终止函数调用。</p> <p><strong>2）主要作用和特点</strong></p> <p>函数柯里化的主要作用和特点就是<strong>参数复用</strong>、<strong>提前返回</strong>和<strong>延迟执行</strong>。</p> <p><strong>2）举例说明</strong></p> <p>比如：有一个 add 函数，用于返回所有参数的和，add(1, 2, 3, 4, 5)返回的是 15，那么现在要将其变为类似 add(1)(2)(3)(4)(5) 或者 add(1)(2, 3, 4)(5) 的形式，并且功能相同，这就是柯里化想要达到的效果。</p> <p><strong>3）介绍柯里化的三种方式</strong></p> <p>在介绍柯里化的三种方式之前，先来了解下普通的 add 函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//15</span>
</code></pre></div><p>普通的 add()函数看着也没有什么问题，但是一旦数据的类型各式各样，就不是那么好处理了。于是引出<strong>柯里化</strong>来解决此类问题。</p> <p><strong>第一种 add()函数柯里化方式</strong></p> <p><strong>缺点</strong>：最后返回的结果是函数类型，但会被隐式转化为字符串，调用 <code>toString()</code> 方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建数组，用于存放之后接收的所有参数</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> getArgs<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  getArgs<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> getArgs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//f 15</span>
</code></pre></div><p><strong>第二种 add()函数柯里化方式</strong></p> <p><strong>缺点</strong>：需要在最后再自调用一次，即不传参调用表示已没有参数了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建数组，用于存放之后接收的所有参数</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> _args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _args<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>_args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> arguments<span class="token punctuation">.</span>callee<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//15</span>
</code></pre></div><p><strong>第三种 add()函数柯里化方式</strong></p> <p><strong>缺点</strong>：在刚开始传参之前，设定总共需要传入参数的个数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add3</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// slice(1)表示从第二个元素开始取值</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    args <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">add3</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>length <span class="token operator">-</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token function">add3</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">res3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//15</span>
</code></pre></div><h1 id="三、写在最后"><a href="#三、写在最后" class="header-anchor">#</a> 三、写在最后</h1> <p>对于函数柯里化的内容我也还不是特别熟悉，写的内容仅供参考，待后面有深入了解之后还会再继续进行补充。</p> <p>关于作用域、闭包以及闭包的一些应用场景就讲到这里啦！如果有不理解或者有误的地方也欢迎私聊我或加我微信指正~</p> <blockquote><ul><li>公众号：星期一研究室</li> <li>微信：MondayLaboratory</li></ul></blockquote> <p>创作不易，如果这篇文章对你有用，记得点个 <strong>Star</strong> 哦~</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/14/2022, 4:10:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/mondaylab-blog/column/FrontEnd/CSS/002.html" class="prev">
            002-CSS选择器优先级
          </a></span> <span class="next"><a href="/mondaylab-blog/column/FrontEnd/JavaScript/002.html">
            002-this的应用场景
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#前言" class="sidebar-link reco-side-前言" data-v-cb1513f6>前言</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#一、作用域" class="sidebar-link reco-side-一、作用域" data-v-cb1513f6>一、作用域</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1、作用域、自由变量简介" class="sidebar-link reco-side-_1、作用域、自由变量简介" data-v-cb1513f6>1、作用域、自由变量简介</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-作用域定义" class="sidebar-link reco-side-_1-作用域定义" data-v-cb1513f6>（1）作用域定义</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-作用域实例演示" class="sidebar-link reco-side-_2-作用域实例演示" data-v-cb1513f6>（2）作用域实例演示</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3-自由变量定义" class="sidebar-link reco-side-_3-自由变量定义" data-v-cb1513f6>（3）自由变量定义</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_4-自由变量实例演示" class="sidebar-link reco-side-_4-自由变量实例演示" data-v-cb1513f6>（4）自由变量实例演示</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2、作用域链简介" class="sidebar-link reco-side-_2、作用域链简介" data-v-cb1513f6>2、作用域链简介</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-作用域链定义" class="sidebar-link reco-side-_1-作用域链定义" data-v-cb1513f6>（1）作用域链定义</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-作用域链实例演示" class="sidebar-link reco-side-_2-作用域链实例演示" data-v-cb1513f6>（2）作用域链实例演示</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3、全局作用域、函数作用域和块级作用域" class="sidebar-link reco-side-_3、全局作用域、函数作用域和块级作用域" data-v-cb1513f6>3、全局作用域、函数作用域和块级作用域</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-全局作用域" class="sidebar-link reco-side-_1-全局作用域" data-v-cb1513f6>（1）全局作用域</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-函数作用域" class="sidebar-link reco-side-_2-函数作用域" data-v-cb1513f6>（2）函数作用域</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3-块级作用域-es6-新增" class="sidebar-link reco-side-_3-块级作用域-es6-新增" data-v-cb1513f6>（3）块级作用域（ES6 新增）</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_4-var-和-let、const-的区别" class="sidebar-link reco-side-_4-var-和-let、const-的区别" data-v-cb1513f6>（4）var 和 let、const 的区别</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#" class="sidebar-link reco-side-" data-v-cb1513f6></a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#二、闭包" class="sidebar-link reco-side-二、闭包" data-v-cb1513f6>二、闭包</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1、闭包是什么" class="sidebar-link reco-side-_1、闭包是什么" data-v-cb1513f6>1、闭包是什么？</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-定义" class="sidebar-link reco-side-_1-定义" data-v-cb1513f6>（1）定义</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-本质" class="sidebar-link reco-side-_2-本质" data-v-cb1513f6>（2）本质</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3-特性" class="sidebar-link reco-side-_3-特性" data-v-cb1513f6>（3）特性</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_4-优缺点" class="sidebar-link reco-side-_4-优缺点" data-v-cb1513f6>（4）优缺点</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_5-闭包的解决方法" class="sidebar-link reco-side-_5-闭包的解决方法" data-v-cb1513f6>（5）闭包的解决方法</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2、一般如何产生闭包" class="sidebar-link reco-side-_2、一般如何产生闭包" data-v-cb1513f6>2、一般如何产生闭包？</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-函数作为返回值被传递" class="sidebar-link reco-side-_1-函数作为返回值被传递" data-v-cb1513f6>（1）函数作为返回值被传递</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-函数作为参数被返回" class="sidebar-link reco-side-_2-函数作为参数被返回" data-v-cb1513f6>（2）函数作为参数被返回</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3、闭包的应用场景" class="sidebar-link reco-side-_3、闭包的应用场景" data-v-cb1513f6>3、闭包的应用场景</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_1-通过循环给页面上多个-dom-节点绑定事件" class="sidebar-link reco-side-_1-通过循环给页面上多个-dom-节点绑定事件" data-v-cb1513f6>（1）通过循环给页面上多个 dom 节点绑定事件</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_2-做一个简单的-cache-工具-实现闭包隐藏数据-只提供-api" class="sidebar-link reco-side-_2-做一个简单的-cache-工具-实现闭包隐藏数据-只提供-api" data-v-cb1513f6>（2）做一个简单的 cache 工具，实现闭包隐藏数据，只提供 API</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#_3-函数柯里化" class="sidebar-link reco-side-_3-函数柯里化" data-v-cb1513f6>（3）函数柯里化</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/JavaScript/001.html#三、写在最后" class="sidebar-link reco-side-三、写在最后" data-v-cb1513f6>三、写在最后</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/mondaylab-blog/assets/js/app.14c1c540.js" defer></script><script src="/mondaylab-blog/assets/js/3.88ba4622.js" defer></script><script src="/mondaylab-blog/assets/js/1.4561d677.js" defer></script><script src="/mondaylab-blog/assets/js/33.e98d205f.js" defer></script>
  </body>
</html>
